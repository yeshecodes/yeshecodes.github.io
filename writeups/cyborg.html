<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>cyborg</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="../styles.css" type="text/css" />
</head>
<body>
  <div class="topnav">
    <a href="/index.html">Home</a>
    <a href="/projects.html">Projects</a>
    <a href="/ctfwriteups.html">CTF Writeups</a>
    <a href="/about.html" class="split">About</a>
  </div>
<div class='page'><h1 class='title'>Cyborg</h1><br/><p><h3>Start with nmap scan (found http -80 and ssh -22)</h3></p><p><h3></h3></p><p><h3></h3><img src="cyborg-images/74-1.png" alt="cyborg-images/74-1.png" /></p><p></p><p>gobuster found /admin and /etc</p><p><img src="cyborg-images/74-2.png" alt="cyborg-images/74-2.png" /></p><p></p><p>3 potential users on system. Alex mentions squid proxy, potential insecure config files and a backup archive. Try ssh brute force with a users list.txt. No luck yet.</p><p><img src="cyborg-images/74-3.png" alt="cyborg-images/74-3.png" /></p><p></p><p>some notes on the source code</p><p><img src="cyborg-images/74-4.png" alt="cyborg-images/74-4.png" /></p><p></p><p>Found archive.tar using one of the links</p><p></p><p><img src="cyborg-images/74-5.png" alt="cyborg-images/74-5.png" /></p><p></p><p>Readme file displays...</p><p><img src="cyborg-images/74-6.png" alt="cyborg-images/74-6.png" /></p><p></p><p>Researched the link and found this, so expecting to extract something</p><p><img src="cyborg-images/74-7.png" alt="cyborg-images/74-7.png" /></p><p></p><p><img src="cyborg-images/74-8.png" alt="cyborg-images/74-8.png" /></p><p></p><p>the other subdirectory displays this...</p><p><img src="cyborg-images/74-9.png" alt="cyborg-images/74-9.png" /></p><p></p><p>found a passwd file and conf, password needs to be cracked,</p><p><img src="cyborg-images/74-10.png" alt="cyborg-images/74-10.png" /></p><p></p><p><img src="cyborg-images/74-11.png" alt="cyborg-images/74-11.png" /></p><p>auth_param basic program /usr/lib64/squid/basic_ncsa_auth /etc/squid/passwd</p><p>auth_param basic children 5</p><p>auth_param basic realm Squid Basic Authentication</p><p>auth_param basic credentialsttl 2 hours</p><p>acl auth_users proxy_auth REQUIRED</p><p>http_access allow auth_users</p><p></p><p></p><p><img src="cyborg-images/74-12.png" alt="cyborg-images/74-12.png" /></p><p>music_archive:$apr1$BpZ.Q.1m$F0qqPwHSOG50URuOVQTTn.</p><p></p><p>Used <a href="http://www.hashes.com">www.hashes.com</a> to find hash</p><p><img src="cyborg-images/74-13.png" alt="cyborg-images/74-13.png" /></p><p></p><p>Searched hashcat wiki for the hash type.</p><p><img src="cyborg-images/74-14.png" alt="cyborg-images/74-14.png" /></p><p></p><p>Running hashcat to crack the hash.</p><p><img src="cyborg-images/74-15.png" alt="cyborg-images/74-15.png" /></p><p></p><p>Found the password!</p><p></p><p>sq**********</p><p></p><p></p><p></p><p>Also, had tried to do steghide and stegseek crack on the piano.jpg found on website. But no luck.</p><p></p><p>extracted the archive using Borg, which reveals Alex&#39;s folder.</p><p></p><p><img src="cyborg-images/74-16.png" alt="cyborg-images/74-16.png" /></p><p>Did some searching through each folder</p><p><img src="cyborg-images/74-17.png" alt="cyborg-images/74-17.png" /></p><p></p><p>found this file in Desktop</p><p></p><p><img src="cyborg-images/74-18.png" alt="cyborg-images/74-18.png" /></p><p> Found this note.txt in Documents which contained Alex&#39;s password</p><p></p><p>alex:S********* = SSH CREDS</p><p><img src="cyborg-images/74-19.png" alt="cyborg-images/74-19.png" /></p><p> found the first flag in user.txt</p><p></p><p>Also found some files in the Music folder</p><p><img src="cyborg-images/74-20.png" alt="cyborg-images/74-20.png" /></p><p></p><p>Check which commands can be run as sudo - a particular sh file in the /etc folder</p><p><img src="cyborg-images/74-21.png" alt="cyborg-images/74-21.png" /></p><p></p><p>cat the files in the /etc/mp3backup folder</p><p><img src="cyborg-images/74-22.png" alt="cyborg-images/74-22.png" /></p><p></p><p>cat the file which can be run as sudo</p><p><img src="cyborg-images/74-23.png" alt="cyborg-images/74-23.png" /></p><p></p><p>backup.sh has 554 file permissions, so chmod it to 777.</p><p><img src="cyborg-images/74-24.png" alt="cyborg-images/74-24.png" /></p><p></p><p>used revshells.com to get a bash script, which I pasted above the file content.</p><p><img src="cyborg-images/74-25.png" alt="cyborg-images/74-25.png" /></p><p></p><p>started nc listener on port 4444</p><p><img src="cyborg-images/74-26.png" alt="cyborg-images/74-26.png" /></p><p>executed the file with sudo permissions</p><p><img src="cyborg-images/74-27.png" alt="cyborg-images/74-27.png" /></p><p></p><p>Oh yeah! Got root.</p><p><img src="cyborg-images/74-28.png" alt="cyborg-images/74-28.png" /></p><p>Cat out the root flag</p><p><img src="cyborg-images/74-29.png" alt="cyborg-images/74-29.png" /></p></div>
</body>
</html>
